<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>stagemonitor widget</title>
		<link rel="stylesheet" href="bootstrap/bootstrap.min.css">
		<link rel="stylesheet" href="bootstrap/bootstrap-theme.min.css">
		<link rel="stylesheet" href="jquery-treetable/jquery.treetable.css">
		<link rel="stylesheet" href="jquery-treetable/jquery.treetable.theme.bootstrap.css">
		<link rel="stylesheet" href="datatables/jquery.dataTables.min.css">
		<link rel="stylesheet" href="datatables/dataTables.bootstrap.css">
		<link rel="stylesheet" href="animate/animate.min.css">
		<link rel="stylesheet" href="stagemonitor-widget.css">
		<link rel="stylesheet" href="c3/c3.min.css">
		<script src="jquery.1.11.1.min.js"></script>
		<script src="bootstrap/bootstrap.min.js"></script>
		<script src="bootstrap/bootstrap-growl.min.js"></script>
		<script src="datatables/jquery.dataTables.min.js"></script>
		<script src="datatables/dataTables.bootstrap.js"></script>
		<script src="handlebars-v1.3.0.min.js"></script>
		<script src="handlebars-helpers.js"></script>
		<script src="jquery-treetable/jquery.treetable.js"></script>
		<script type="text/javascript" src="stagemonitor-widget.js"></script>
		<script type="text/javascript" src="tabs/config-tab.js"></script>
		<script type="text/javascript" src="tabs/call-tree-tab.js"></script>
		<script type="text/javascript" src="tabs/request-tab.js"></script>
		<script type="text/javascript" src="tabs/widget-settings-tab.js"></script>
		<script type="text/javascript" src="tabs/ajax-requests.js"></script>
		<script type="text/javascript" src="c3/d3.v3.min.js"></script>
		<script type="text/javascript" src="c3/c3.min.js"></script>
		<script type="text/javascript" src="tabs/metrics-tab.js"></script>
	</head>
	<body>
		<div class="container-fluid">
			<div class="position-relative">
				<h1 class="head">
					<a href="http://www.stagemonitor.org/" target="_blank">
						<img class="stagemonitor-banner" src="stagemonitor-banner.png" />
					</a>
					<button class="close" id="stagemonitor-modal-close"><span>&times;</span></button>
				</h1>

				<ul class="nav nav-tabs" role="tablist">
					<li id="call-stack-tab" class="active">
						<a href="#stagemonitor-home" role="tab" data-toggle="tab" class="tip" data-placement="bottom"
						 					title="View method call tree of the current request including SQL statements">
							Call Tree
						</a>
					</li>
					<li id="request-tab">
						<a href="#stagemonitor-request" role="tab" data-toggle="tab" class="tip" data-placement="bottom"
											title="View request trace including server and DB execution times">
							Request
						</a>
					</li>
					<li id="widget-settings-tab">
						<a href="#widget-settings" role="tab" data-toggle="tab" class="tip" data-placement="bottom"
											title="Edit notification settings and call tree highlighting">
							Widget Settings
						</a>
					</li>
					<li id="config-tab">
						<a href="#stagemonitor-configuration" role="tab" data-toggle="tab" class="tip" data-placement="bottom"
											title="Dynamically change or reload configuration.">
							Configuration
						</a>
					</li>
					<li id="ajax-tab">
						<a href="#stagemonitor-ajax" id="ajax-tab-link" role="tab" data-toggle="tab" class="tip hidden" data-placement="bottom"
											title="Select a ajax request to analyze its call tree and request trace.">
							Ajax Requests <span id="ajax-badge" class="badge"></span>
						</a>
					</li>
					<li id="config-tab">
						<a href="#stagemonitor-metrics" role="tab" data-toggle="tab" class="tip" data-placement="bottom"
						   title="Show metrics of the application.">
							Metrics
						</a>
					</li>
				</ul>
			</div>

			<div class="tab-content">
				<div class="tab-pane active" id="stagemonitor-home">
					<!--tabs/call-tree-tab.html-->
				</div>



				<div class="tab-pane" id="stagemonitor-request">
					<!--tabs/request-tab.html-->
				</div>

				<div class="tab-pane" id="widget-settings">
					<form class="form-horizontal" role="form">
						<div class="form-group">
							<label class="col-sm-3 control-label">Highlight and expand method calls taking longer than </label>
							<div class="col-sm-2">
								<div class="input-group">
									<input data-widget-settings-key="widget-settings-execution-threshold-percent" data-widget-settings-default-value="5" class="form-control">
									<div class="input-group-btn-vertical stagemonitor-spinner">
										<button class="btn btn-default"><i class="glyphicon glyphicon-chevron-up"></i></button>
										<button class="btn btn-default"><i class="glyphicon glyphicon-chevron-down"></i></button>
									</div>
									<span class="input-group-addon">%</span>
								</div>
							</div>
						</div>

						<div class="form-group">
							<label class="col-sm-3 control-label">Notify if request took longer than </label>
							<div class="col-sm-2">
								<div class="input-group">
									<input data-widget-settings-key="widget-settings-execution-threshold-milliseconds" data-widget-settings-default-value="2000" class="form-control">
									<div class="input-group-btn-vertical stagemonitor-spinner">
										<button class="btn btn-default"><i class="glyphicon glyphicon-chevron-up"></i></button>
										<button class="btn btn-default"><i class="glyphicon glyphicon-chevron-down"></i></button>
									</div>
									<span class="input-group-addon">ms</span>
								</div>
							</div>
						</div>

						<div class="form-group">
							<label class="col-sm-3 control-label">Count of SQL-queries after which you will be notified</label>
							<div class="col-sm-2">
								<div class="input-group">
									<input data-widget-settings-key="widget-settings-db-count-threshold" data-widget-settings-default-value="20" class="form-control">
									<div class="input-group-btn-vertical stagemonitor-spinner rounded">
										<button class="btn btn-default"><i class="glyphicon glyphicon-chevron-up"></i></button>
										<button class="btn btn-default"><i class="glyphicon glyphicon-chevron-down"></i></button>
									</div>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-3 control-label">Notify on error</label>
							<div class="col-sm-2">
								<input data-widget-settings-key="widget-settings-notify-on-error" data-widget-settings-default-value="false" type="checkbox" class="checkbox">
							</div>
						</div>
						<div class="form-group">
							<div class="col-sm-offset-3 col-sm-6">
								<button type="submit" class="btn btn-primary" id="widget-settings-save">Save</button>
							</div>
						</div>
					</form>
				</div>

				<div class="tab-pane" id="stagemonitor-configuration">
					<!--tabs/config-tab.html-->
				</div>

				<div class="tab-pane" id="stagemonitor-ajax">
					<table id="ajax-table" class="display" cellspacing="0" width="100%">
						<thead>
						<tr>
							<th>Timestamp</th>
							<th>Name</th>
							<th>URL</th>
							<th>Execution Time</th>
							<th>Status</th>
							<th>Method</th>
						</tr>
						</thead>
					</table>
				</div>

				<div class="tab-pane" id="stagemonitor-metrics">
					<div id="chart"></div>
				</div>

			</div>

		</div>
	</body>
</html>
